<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="cs" lang="cs">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta http-equiv="Content-Language" content="cs"/>

    <meta name="robots" content="index,follow"/>
    <meta name="googlebot" content="index,follow,snippet,archive"/>

    <link rel="stylesheet" type="text/css" media="screen" href="../../css/styles.css"/>
    <link rel="stylesheet" type="text/css" media="screen" href="../../css/menu.css"/>
    <script src="../../js/jquery.1.12.4.min.js"></script>
    <title>Java | Czechitas</title>
</head>

<body>
    <div id="page">
        <div class="header">
            <a href="https://www.czechitas.cz/"><img src="../../img/logo.png" alt="Logo Czechitas"/></a>
        </div>
        <!-- #header -->

        <div id="title"></div>
        <script>
            jQuery("#title").load("title.html");
        </script>
        <!-- #title -->

        <!-- #menu -->
        <div id="menu-wrap"></div>
        <script>
            jQuery("#menu-wrap").load("menu.html");
        </script>
        <!-- #menu -->

        <div class="content">
            <span class="published-timestamp">Vloženo: 14. 12. 2018</span>

            <h3>
                Úkol 10 - Seriózní desktopová aplikace - Mandala
            </h3>

            <h4>Domácí úkol</h4>

            <p>Cílem domácího úkolu je naprogramovat
                desktopovou aplikaci pro vymalovávání mandal.</p>

            <h5>
                Část 1 - Vyplňování místo kreslení
            </h5>

            <p>
                Založte novou okenní aplikaci, která bude podobná Kreslení z hodiny.
                Nahrajte do labelu obrázek mandaly a naprogramujte do ní stejnou
                funkcionalitu jako jsem měl já na konci hodiny.
                Inspirujte se videem z lekce.
            </p>

            <p>
                Obrázek se dá nahrát pomocí následujícího kódu.
            </p>
            <pre class="java-source-code">
    try {
        // Bud jde vytvorit prazdny obrazek
        // obrazek = new BufferedImage(1920, 1080, BufferedImage.TYPE_4BYTE_ABGR);

        // Nebo nahrat existujici
        File soubor = new File("C:\\Java-Training\\Projects\\Java1\\Lekce11\\obrazek1.png");
        obrazek = ImageIO.read(soubor);
        labObrazek.setIcon(new ImageIcon(obrazek));
    } catch (IOException e) {
        throw new ApplicationPublicException(ex, "Nepodařilo se nahrát obrázek mandaly ze souboru " + soubor.getAbsolutePath());
    }
</pre>
            <p>
                Zpětné lomítko ve zdrojovém textu Javy musí být vždycky zdvojeno, ale chápe se jako jedno.
                Je to proto, protože jedno zpětné lomítko by se chápalo
                jako escape sekvence pro psaní speciálních znaků.
            </p>
            <p>
                Všimněte si uvedení plné cesty k souboru.
                Pokud byste chtěli uvést cestu k souboru relativní (vůči složce projektu),
                prostě jen napište:
            <pre class="java-source-code">
new File("obrazek1.png");
</pre>
                Soubor <code>obrazek1.png</code> musíte tedy zkopírovat do kořene složky projektu.
                Např. <code>C:\Java-Training\Projects\Java1\Lekce11\Ukol10-Mandala\obrazek1.png</code>.
            </p>

                V materiálech k lekci jsem vám dodal zdrojový text metody na vyplnění <code>BufferedImage</code>
                (a pár dalších, pomocných metod).
                Jedná se o soubor <code>vyplnovani.java</code>.
            </p>

            <p class="odsazeniTop">
                Poznámka: Dejte pozor, aby <code>labObrazek</code> měl nastavené zarovnání <code>horizontalAlignment</code> na <code>LEFT</code>
                a <code>verticalAlignment</code> na <code>TOP</code>.
                Tedy aby obrázek mandaly byl vlevo nahoře.
                Jinak nebudou souřadnice <code>X</code> a <code>Y</code> z událostního objektu
                <code>MouseEvent e</code> správně odpovídat souřadnicím bodů na
                <code>BufferedImage obrazek</code> a po kliknutí na mandalu se vám vyplní
                "předem těžko odhadnutelná oblast".
            </p>

            <p class="odsazeniTop">
                Ukázkový program by mohl vypadat takto:
            </p>

            <img src="img/ukol10-program.png" alt="Screenshot domácího úkolu"/>

            <h5>Část 2 - Volba barev</h5>

            <p>
                Přidejte na formulář ještě čtvercové labely na výběr barvy malování.
                Labely udělejte pevně velké (např. 32x32), nastavte jim
                <code>opaque</code> na <code>true</code> a <code>background</code> na zvolenou barvu.
                Když uživatel klikne na nějakou barvu, mělo by se vyplňovat
                touto barvou.
            </p>


            <h6>Rady na cestu:</h6>
            <p>
                Připravte si vlastní sadu barev k vyplňování.
                Můžete použít <a href="https://color.adobe.com">Adobe KULER</a>.
            </p>
            <p>
                V odevzdávárně ve složce Ukol10 je nahrané moje řešení i se zdrojovými texty.
                Můžete ho využít, když nebudete vědět kudy kam.
                Ale pokud to půjde bez něj, bude to výrazně lepší.
            </p>

            


            <h5>Část 3 - Příprava vlastní mandaly</h5>

            <p>
                Mandal je na internetu spousta. Najděte nebo si nakreslete jednu vlastní.
                Mandala akorát musí být striktně černo-bílá. Pouze dvě barvy!
                Pro příklad vyjděme třeba z této alternativní mandaly:
                <a href="img/ukol10-mandala2.png">ukol10-mandala2.png</a>
                Vypadá sice, že je černobílá, ale ve skutečnosti
                má vyhlazené čáry pomocí stupňů šedi.
                Tyto stupně šedi je nutné oříznout na striktně černou a bílou.
                Například v IrfanView je menu Image -> Decrease Color Depth...
                a zvolte 2 barvy.
            </p>
            <p>
                Černo-bílá mandala pak vypadá takto (srovnejte s tou výše):
                <a href="img/ukol10-mandala2-blackwhite.png">ukol10-mandala2-blackwhite.png</a>
            </p>
            <p>
                Dále je ale nutné opět obrázek mandaly povýšit na plnobarevný obrázek
                (16 milionů barev neboli 24 bitů na pixel).
                Proto znovu zvolte Image -> Increase Color Depth...
                a zvolte 16,7 M barev.
            </p>
            <p>
                Rozumná velikost mandaly je 640x640 bodů, ale můžete použít i jinak velké obrázky.
                IrfanView umí obrázky i zvětšovat a zmenšovat.
                Vyzkoušejte a uvidíte samy.
            </p>
            <p>
                V materiálech lekce jsou 2 hotové funkční mandaly.
            </p>




            <h5 class="odsazeniTop">Nepovinná část 4 - Vylepšení</h5>

            <p>
                Program Mandal jakkoliv vylepšete.
                Napadá mě mnoho způsobů, co by ještě appka mohla umět.
            </p>

            <h6>Například nahrávání a ukládání obrázků</h6>
            <p>
                Bylo by fajn přidat klasické menu a do něj možnost uložit a nahrát
                libovolný obrázek.
                Inspirujte se mým vzorovým řešením v odevzdávárně.
            </p>
            <p>
                Zde najdete metodu na uložení obrázku:
            </p>

            <pre class="java-source-code">
    private void ulozObrazek(File soubor) {
        try {
            ImageIO.write(obrazek, "png", soubor);
        } catch (IOException ex) {
            throw new ApplicationPublicException(ex, "Nepodařilo se uložit obrázek mandaly do souboru " + soubor.getAbsolutePath());
        }
    }
</pre>

            <p>Zde je kód, který se uživatele zeptá na jméno souboru
                klasických ukládacím dialogem:
            </p>
            <pre class="java-source-code">
    private void ulozitJako() {
        JFileChooser dialog;
        dialog = new JFileChooser(".");

        int vysledek = dialog.showSaveDialog(this);
        if (vysledek != JFileChooser.APPROVE_OPTION) {
            return;
        }

        File soubor = dialog.getSelectedFile();
        if (!soubor.getName().contains(".") && !soubor.exists()) {
            soubor = new File(soubor.getParentFile(), soubor.getName() + ".png");
        }
        if (soubor.exists()) {
            int potvrzeni = JOptionPane.showConfirmDialog(this, "Soubor " + soubor.getName() + " už existuje.\nChcete jej přepsat?", "Přepsat soubor?", JOptionPane.YES_NO_OPTION);
            if (potvrzeni == JOptionPane.NO_OPTION) {
                return;
            }
        }
        ulozObrazek(soubor);
    }
</pre>

            

            <h3 id="odevzdani-domaciho-ukolu">Odevzdání domácího úkolu</h3>
            <p>Nejprve appku
                zbavte přeložených spustitelných souborů.
                Zařídíte to tak, že v IntelliJ IDEA vpravo zvolíte
                Maven Projects -&gt; Lifecycle -&gt; Clean.
                Úspěch se projeví tak, že v projektové složce zmizí
                podsložka target.
                Následně obě složky s projekty
                zabalte pomocí 7-Zipu pod jménem <code>Ukol10-Vase_Jmeno.7z</code>.
                (Případně lze použít prostý zip, například na Macu).
                Takto vytvořený archív nahrajte na
                Google Drive                do složky <code>Ukol10</code>.</p>
            <p>Pokud byste chtěli odevzdat revizi úkolu (např. po opravě),
                zabalte ji a nahrajte ji na stejný Google Drive znovu,
                jen tentokrát se jménem <code>Ukol10-Vase_Jmeno-verze2.7z</code>.</p>
            <p>Termín odevzdání je do úterý 18. 12. 2018 23:59.
                Pokud úkol nebo revizi odevzdáte později,
                prosím pošlete svému opravujícímu kouči/lektorovi email nebo zprávu přes FB.</p>

        </div>
        <!-- #content -->
    </div>
    <!-- #page -->
</body>
</html>
